
# توثيق مشروع تطبيق سيرة النبي محمد ﷺ

## نظرة عامة على المشروع

تطبيق "سيرة النبي ﷺ" هو تطبيق متعدد المنصات تم تطويره باستخدام Expo/React Native، ويهدف إلى تقديم سيرة النبي محمد صلى الله عليه وسلم بأسلوب سهل وميسر. يعتمد التطبيق على التكنولوجيات الحديثة لتقديم تجربة مستخدم سلسة عبر منصات متعددة مع واجهة متوافقة مع الوضع الليلي والنهاري.

## بنية المشروع

### هيكل الملفات الرئيسية

```
├── app                      # مجلد التطبيق الرئيسي، يستخدم Expo Router للتنقل
│   ├── (tabs)               # تبويبات التطبيق الرئيسية
│   │   ├── _layout.tsx      # تخطيط شريط التبويب السفلي
│   │   ├── biography.tsx    # صفحة السيرة النبوية
│   │   ├── index.tsx        # الصفحة الرئيسية
│   │   ├── places.tsx       # صفحة الأماكن المقدسة
│   │   └── teachings.tsx    # صفحة الأحاديث النبوية
│   ├── biography            # صفحات تفصيلية للسيرة
│   │   └── birth.tsx        # صفحة مولد النبي
│   ├── _layout.tsx          # التخطيط الرئيسي للتطبيق
│   └── about.tsx            # صفحة حول التطبيق
├── assets                   # الموارد الثابتة (صور، خطوط)
├── components               # مكونات التطبيق المعاد استخدامها
│   ├── ui                   # مكونات واجهة المستخدم الأساسية
│   └── ...                  # مكونات أخرى مثل البطاقات والأزرار
├── constants                # ثوابت التطبيق (مثل الألوان)
├── contexts                 # سياقات React (مثل SidebarContext)
└── hooks                    # خطافات React المخصصة
```

### التقنيات المستخدمة

- **إطار العمل**: React Native / Expo v53.0.9
- **لغة البرمجة**: TypeScript
- **نظام التنقل**: Expo Router v5.0.6
- **المكتبات الرئيسية**:
  - `expo-linear-gradient`: للخلفيات المتدرجة
  - `react-native-reanimated`: للرسوم المتحركة
  - `expo-blur`: لتأثيرات التمويه
  - `@expo/vector-icons`: لأيقونات Feather
  - `expo-haptics`: للاهتزازات اللمسية

## المكونات المنجزة

### 1. نظام التنقل والتخطيط

- ✅ تنفيذ نظام التنقل المرتكز على الملفات باستخدام Expo Router
- ✅ شريط تبويب سفلي مع أيقونات وعناوين بالعربية
- ✅ شريط جانبي قابل للسحب للوصول إلى وظائف إضافية
- ✅ دعم الانتقال بين الصفحات مع تأثيرات سلسة

### 2. واجهة المستخدم والتصميم

- ✅ واجهة باللغة العربية وتخطيط RTL (من اليمين إلى اليسار)
- ✅ دعم الوضع الليلي والنهاري مع ألوان مخصصة لكل وضع
- ✅ خطوط عربية خاصة (Amiri Regular و Amiri Bold)
- ✅ خلفيات متدرجة لشريط التبويب وبعض العناصر الأخرى
- ✅ شاشة بداية (Splash Screen) مع رسوم متحركة
- ✅ مكونات قابلة لإعادة الاستخدام مثل بطاقات السيرة والأحاديث والأماكن

### 3. أقسام المحتوى

- ✅ الصفحة الرئيسية مع أقسام التطبيق وأيقونات وشروحات موجزة
- ✅ قسم السيرة النبوية مع بطاقات للمراحل المختلفة من حياة النبي
- ✅ صفحة تفصيلية لمولد النبي وطفولته
- ✅ قسم الأحاديث النبوية مع 7 أحاديث مختارة وشروحها
- ✅ قسم الأماكن المقدسة التي لها علاقة بحياة النبي
- ✅ صفحة "حول التطبيق" تعرض معلومات عن التطبيق والمطور

## المكونات قيد التطوير

1. ⬜ صفحات تفصيلية إضافية لمراحل السيرة النبوية
2. ⬜ وظيفة البحث في محتوى التطبيق
3. ⬜ وظيفة المفضلة لحفظ العناصر المهمة
4. ⬜ وسائط متعددة (صور إضافية، صوت، فيديو)
5. ⬜ وظيفة مشاركة المحتوى عبر وسائل التواصل الاجتماعي
6. ⬜ إشعارات يومية بأحاديث وحكم نبوية
7. ⬜ قسم للمصادر والمراجع

## التحديات والمشاكل التي واجهناها وحلولها

### 1. مشكلة استيراد وثيقة الألوان (Colors)

**المشكلة**: واجهنا خطأ "Cannot read properties of undefined (reading 'light')" في عدة ملفات، بسبب استخدام غير صحيح لاستيراد كائن Colors.

**الحل**: تم تصحيح طريقة استيراد الألوان في جميع الملفات المتأثرة من:
```typescript
import Colors from '@/constants/Colors';
```
إلى:
```typescript
import { Colors } from '@/constants/Colors';
```

وذلك في الملفات التالية:
- app/(tabs)/index.tsx
- app/(tabs)/biography.tsx
- app/(tabs)/teachings.tsx
- components/HadithCard.tsx
- components/PlaceCard.tsx
- components/BiographyCard.tsx
- app/biography/birth.tsx
- app/about.tsx
- components/Header.tsx

### 2. تحدي دعم الوضع الليلي/النهاري

**المشكلة**: كان هناك تحدٍ في تنفيذ نظام متكامل للوضع الليلي والنهاري مع ضمان تناسق الألوان في جميع أنحاء التطبيق.

**الحل**: تم إنشاء هوك مخصص `useColorScheme` للتعامل مع سلوك السمة، وتعريف كائن ألوان موحد في `constants/Colors.ts` يحتوي على الألوان لكل وضع. بالإضافة إلى ذلك، تم إنشاء مكونات `ThemedView` و `ThemedText` لاستخدامها في جميع أنحاء التطبيق.

### 3. تحدي عرض النصوص العربية

**المشكلة**: واجهنا تحديات في عرض النصوص العربية بشكل صحيح، خاصة فيما يتعلق باتجاه النص والخطوط.

**الحل**: تم استخدام خطوط Amiri المخصصة للنصوص العربية، وتكوين التطبيق لاستخدام RTL (من اليمين إلى اليسار) بشكل صحيح. كما تم تعيين أنماط خاصة للنصوص العربية لضمان العرض الصحيح.

### 4. مشكلة في شريط التبويب السفلي

**المشكلة**: واجهنا تحديات في تخصيص شريط التبويب السفلي ليناسب التصميم المطلوب، خاصة مع خلفية متدرجة وتوافق مع الوضع الليلي والنهاري.

**الحل**: تم إنشاء مكون مخصص `TabBarBackground` مع تنفيذ خاص لنظام iOS باستخدام `TabBarBackground.ios.tsx`، واستخدام `expo-linear-gradient` لإنشاء خلفية متدرجة جذابة.

### 5. تحدي الرسوم المتحركة والأداء

**المشكلة**: كان هناك تحدٍ في تنفيذ رسوم متحركة سلسة مع الحفاظ على أداء التطبيق، خاصة في الأجهزة منخفضة المواصفات.

**الحل**: استخدمنا مكتبة `react-native-reanimated` للرسوم المتحركة المستندة إلى مكون JavaScript Thread، وتنفيذ تقنيات تحسين الأداء مثل `useNativeDriver` حيثما أمكن ذلك.

### 6. مشكلة عرض بطاقات الأحاديث

**المشكلة**: كان هناك تحدٍ في تصميم مكون `HadithCard` الذي يظهر نص الحديث مع إمكانية توسيع/طي الشرح.

**الحل**: تم تنفيذ مكون مخصص يستخدم `Animated` من `react-native-reanimated` للتحكم في عملية التوسيع والطي بشكل سلس، مع تخصيص التصميم ليتناسب مع الوضع الليلي والنهاري.

## اختبار وضمان الجودة

- تم اختبار التطبيق على أجهزة متعددة (iOS و Android) باستخدام Expo Go
- تم التحقق من توافق الواجهة مع الوضع الليلي والنهاري
- تم التأكد من صحة عرض النصوص العربية واتجاه RTL
- تم اختبار الأداء وتحسينه حيثما لزم الأمر

## الدروس المستفادة

1. **أهمية التخطيط المبكر للبنية**: تخطيط بنية التطبيق والمكونات المشتركة في مرحلة مبكرة ساعد في تسريع التطوير وتقليل التكرار.

2. **فصل الأنماط والألوان**: إنشاء نظام ألوان موحد وفصله عن المكونات سهل تنفيذ الوضع الليلي/النهاري وضمن تناسق التصميم.

3. **تنظيم الملفات حسب الوظيفة**: استخدام نهج التنظيم حسب الوظيفة (pages, components, contexts, hooks) ساعد في الحفاظ على التنظيم.

4. **أهمية التعامل مع خصوصيات المنصات**: التعامل مع خصوصيات المنصات (iOS و Android) مبكرًا ساعد في تجنب المشاكل اللاحقة.

5. **مراعاة اللغة والثقافة**: تطوير تطبيق باللغة العربية يتطلب اهتمامًا خاصًا باتجاه النص والخطوط والترجمة.

## الخطوات القادمة

1. إكمال صفحات السيرة النبوية التفصيلية المتبقية
2. تنفيذ وظيفة البحث في المحتوى
3. إضافة وظيفة المفضلة وحفظ العناصر المهمة
4. إضافة المزيد من الوسائط المتعددة (صور، صوت، فيديو)
5. تحسين الأداء وتجربة المستخدم
6. إضافة دعم لمشاركة المحتوى
7. تنفيذ اختبارات شاملة قبل الإصدار النهائي

## المساهمون في المشروع

- **المطور الرئيسي**: شايبي وائل
- **تصميم التطبيق**: فريق التصميم
- **محتوى السيرة النبوية**: مصادر موثوقة ومعتمدة في السيرة النبوية

## الملخص النهائي

تطبيق "سيرة النبي ﷺ" هو مشروع طموح يهدف إلى نشر السيرة النبوية العطرة بين الناس، خاصة فئة الشباب، من خلال تطبيق حديث وسهل الاستخدام. تم إنجاز قدر كبير من المشروع، مع خطة واضحة لإكمال التطوير والإطلاق في عام 2025.

المشروع يجمع بين التقنيات الحديثة (React Native/Expo) والمحتوى الغني عن سيرة النبي محمد صلى الله عليه وسلم، مع التركيز على تجربة مستخدم متميزة تناسب جميع الفئات العمرية وأنظمة التشغيل.
